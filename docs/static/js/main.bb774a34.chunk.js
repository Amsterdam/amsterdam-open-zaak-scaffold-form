(this["webpackJsonpamsterdam-scaffold-form"]=this["webpackJsonpamsterdam-scaffold-form"]||[]).push([[0],{258:function(e,t,n){e.exports=n(629)},263:function(e,t,n){},609:function(e,t){},612:function(e,t){},614:function(e,t){},628:function(e,t,n){},629:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(120),c=n.n(o),i=(n(263),n(9)),l=n(12),u=n(122),s=n(22),p=n.n(s),d=n(250),m=n(8),f=n(251),v=n(51),b=n(1),h=n(255),O=n.n(h),j=n(4),g=(n(628),n(37)),y=function(e){return e.reduce((function(e,t){return Object(i.a)(Object(i.a)({},e),{},Object(g.a)({},t,t))}),{})},E=n(257),S=function(e){return e.replace(/\./g," ").replace(/_/g," ").replace(/([A-Z])/g," $1").toLowerCase().replace(/^./,(function(e){return e.toUpperCase()}))},w=function(e){return Object.entries(e).reduce((function(e,t){var n=Object(l.a)(t,2),a=n[0],r=n[1];return Object(i.a)(Object(i.a)({},e),{},Object(g.a)({},a,S(r)))}),{})},k=n(256),A=function(e){return function(t){return{column:t%e,row:Math.floor(t/e)}}},F=function(e){return{column:e,row:0}},x=function(e,t,n){return Object.entries(e).reduce(Object(k.a)((function(e,a,r){var o=Object(l.a)(a,2),c=o[0],i=o[1];i.props.position[t]=n(r),e[c]=i})),{})},P=function(e,t,n){var a;return{position:{},name:e+t,hint:n.description,label:null!==(a=n.title)&&void 0!==a?a:S(t)}},B=function(e,t){return(e+""+t).replace(/\./g,"_")},C=function(e,t){var n=Object(E.a)(Array(e)).map((function(e){return"1fr"}));return t&&n.push("auto"),n.join(" ")},T=function(e){var t,n,a;return null===(t=null===e||void 0===e?void 0:e.requestBody)||void 0===t||null===(n=t.content)||void 0===n||null===(a=n["application/json"])||void 0===a?void 0:a.schema};function U(){var e=Object(u.a)(["\n  position: absolute;\n  right: 10px;\n  top: 10px;\n"]);return U=function(){return e},e}function I(){var e=Object(u.a)(["  \n  margin: 20px 20px;\n"]);return I=function(){return e},e}var J=function(){var e=Object(d.a)(p.a.mark((function e(t){var n,a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new Headers).set("accept","application/json"),e.next=4,fetch(t,{headers:n});case 4:return a=e.sent,e.next=7,a.json();case 7:return r=e.sent,e.abrupt("return",O.a.dereference(r));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=b.default.div(I()),W=Object(b.default)(j.Spinner)(U()),q=y(["https://acc.api.top.amsterdam.nl/api/v1/schema/","https://zaken-api.vng.cloud/api/v1/schema/openapi.json","https://documenten-api.vng.cloud/api/v1/schema/openapi.json","https://catalogi-api.vng.cloud/api/v1/schema/openapi.json","https://besluiten-api.vng.cloud/api/v1/schema/openapi.json","https://autorisaties-api.vng.cloud/api/v1/schema/openapi.json"]);var z=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(void 0),u=Object(l.a)(c,2),s=u[0],p=u[1],d=Object(a.useState)(void 0),b=Object(l.a)(d,2),h=b[0],O=b[1],g=Object(a.useState)(void 0),E=Object(l.a)(g,2),S=E[0],k=E[1],U=Object(a.useState)(1),I=Object(l.a)(U,2),z=I[0],H=I[1];Object(a.useEffect)((function(){s?(o(!0),J(s).then((function(e){k(e),o(!1)}))):k(null)}),[s,k]);var M,$=S?(M=S,Object.entries(M.paths).reduce((function(e,t){var n=Object(l.a)(t,2),a=n[0],r=n[1];if(r.patch){var o=T(r.patch);o&&(e["PATCH ".concat(a)]=o)}if(r.put){var c=T(r.put);c&&(e["PUT ".concat(a)]=c)}if(r.post){var i=T(r.post);i&&(e["POST ".concat(a)]=i)}return e}),{})):{},_=y(Object.keys($)),L=$[h],R=x(x(function e(t){var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=function(t,n,o,c,l){var u;switch(c.type){case"object":var s=e(c,o+".",l+r);r+=Object.keys(s).length,t=Object(i.a)(Object(i.a)({},t),s);break;case"string":c.enum?t[n]={type:"SelectField",props:Object(i.a)({options:w(y(c.enum))},P(a,o,c))}:t[n]={type:"TextField",props:Object(i.a)({},P(a,o,c))};break;case"boolean":t[n]={type:"Boolean",props:Object(i.a)({},P(a,o,c))};break;case"number":case"integer":t[n]={type:"NumberField",props:Object(i.a)({},P(a,o,c))};break;case"array":var p="object"===(null===(u=null===c||void 0===c?void 0:c.items)||void 0===u?void 0:u.type)?c.items:{properties:{"":c.items}},d=x(e(p),"mobileS",F);t[n]={type:"ArrayField",props:Object(i.a)({scaffoldFields:d,allowAdd:!0,allowRemove:!0,columns:C(Object.keys(d).length,!0)},P(a,o,c))};break;default:console.warn("Unknown type",c.type)}return t},c=null!==(n=null===t||void 0===t?void 0:t.properties)&&void 0!==n?n:{};return Object.entries(c).reduce((function(e,t,n){var r=Object(l.a)(t,2),c=r[0],i=r[1],u=B(a,c);return i.allOf?i.allOf.reduce((function(e,t){return o(e,u,c,t,n)}),e):i.oneOf?(console.warn("property.oneOf detected! We haven't implemented that yet!"),i.oneOf.reduce((function(e,t){return o(e,u,c,t,n)}),e)):o(e,u,c,i,n)}),{})}(L),"laptop",A(z)),"mobileS",A(1));return r.a.createElement(j.ThemeProvider,null,n&&r.a.createElement(W,{size:20}),r.a.createElement(N,null,r.a.createElement(v.UnboundSelectField,{label:"API",options:q,withEmptyOption:!0,onChange:function(e){p(e.target.value),O(void 0),k(void 0)}})),S&&r.a.createElement(r.a.Fragment,null,r.a.createElement(N,null,r.a.createElement(v.UnboundSelectField,{label:"Schema",options:_,withEmptyOption:!0,onChange:function(e){return O(e.target.value)}})),r.a.createElement(N,null,r.a.createElement(v.UnboundSelectField,{label:"Number of columns",hint:"Breakpoint is hardcoded on 'laptop' in this demo. But you can set them as you like.",options:y(["1","2","3","4","5","6","7","8","9","10"]),onChange:function(e){return H(parseInt(e.target.value))}}))),h&&r.a.createElement(m.Form,{mutators:Object(i.a)({},f.a),onSubmit:function(e){return console.log(e)},render:function(e){var t=e.values;return r.a.createElement("form",null,r.a.createElement(N,null,r.a.createElement(j.AccordionWrapper,null,r.a.createElement(j.Accordion,{title:"OpenAPI Schema"},r.a.createElement(j.Paragraph,null,"OpenAPI defines this requestBody."),r.a.createElement("pre",null,JSON.stringify(L,null,2))),r.a.createElement(j.Accordion,{title:"Form Schema"},r.a.createElement(j.Paragraph,null,"This autogenerated form-schema should be imported in your project."),r.a.createElement("pre",null,JSON.stringify(R,null,2))),r.a.createElement(j.Accordion,{title:"Scaffolded form"},r.a.createElement(v.Scaffold,{fields:R,columns:{laptop:C(z,!1)}})),r.a.createElement(j.Accordion,{title:"Form values"},r.a.createElement("pre",null,JSON.stringify(t,null,2))))))}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[258,1,2]]]);
//# sourceMappingURL=main.bb774a34.chunk.js.map