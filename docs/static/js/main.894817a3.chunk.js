(this["webpackJsonpamsterdam-scaffold-form"]=this["webpackJsonpamsterdam-scaffold-form"]||[]).push([[0],{258:function(e,t,n){e.exports=n(629)},263:function(e,t,n){},609:function(e,t){},612:function(e,t){},614:function(e,t){},628:function(e,t,n){},629:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(120),c=n.n(o),i=(n(263),n(12)),l=n(9),u=n(122),s=n(22),p=n.n(s),d=n(250),f=n(8),m=n(251),v=n(51),b=n(1),h=n(255),O=n.n(h),j=n(4),g=(n(628),n(37)),E=function(e){return e.reduce((function(e,t){return Object(i.a)(Object(i.a)({},e),{},Object(g.a)({},t,t))}),{})},y=n(257),S=function(e){return e.replace(/\./g," ").replace(/_/g," ").replace(/([A-Z])/g," $1").toLowerCase().replace(/^./,(function(e){return e.toUpperCase()}))},w=function(e){return Object.entries(e).reduce((function(e,t){var n=Object(l.a)(t,2),a=n[0],r=n[1];return Object(i.a)(Object(i.a)({},e),{},Object(g.a)({},a,S(r)))}),{})},k=n(256),A=function(e){return function(t){return{column:t%e,row:Math.floor(t/e)}}},F=function(e){return{column:e,row:0}},x=function(e,t){return n=T(e),a=t,Object.entries(n).reduce(Object(k.a)((function(e,t,n){var r=Object(l.a)(t,2),o=r[0],c=r[1];Object.entries(a).forEach((function(e){var t=Object(l.a)(e,2),a=t[0],r=t[1];c.props.position[a]=r(n)})),e[o]=c})),{});var n,a},P=function(e,t,n){var a;return{position:{},name:e+t,hint:n.description,label:null!==(a=n.title)&&void 0!==a?a:S(t)}},B=function(e,t){return(e+""+t).replace(/\./g,"_")},C=function(e,t){var n=Object(y.a)(Array(e)).map((function(e){return"1fr"}));return t&&n.push("auto"),n.join(" ")},T=function e(t){var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=function(t,n,o,c,u){var s;switch(c.type){case"object":var p=e(c,o+".",u+r);r+=Object.keys(p).length,Object.entries(p).forEach((function(e){var n=Object(l.a)(e,2),a=n[0],r=n[1];t[a]=r}));break;case"string":c.enum?t[n]={type:"SelectField",props:Object(i.a)({options:w(E(c.enum))},P(a,o,c))}:t[n]={type:"TextField",props:Object(i.a)({},P(a,o,c))};break;case"boolean":t[n]={type:"Boolean",props:Object(i.a)({},P(a,o,c))};break;case"number":case"integer":t[n]={type:"NumberField",props:Object(i.a)({},P(a,o,c))};break;case"array":var d="object"===(null===(s=null===c||void 0===c?void 0:c.items)||void 0===s?void 0:s.type)?c.items:{properties:{"":c.items}},f=x(d,{mobileS:F});t[n]={type:"ArrayField",props:Object(i.a)({scaffoldFields:f,allowAdd:!0,allowRemove:!0,columns:C(Object.keys(f).length,!0)},P(a,o,c))};break;default:console.warn("Unknown type",c.type)}return t},c=null!==(n=null===t||void 0===t?void 0:t.properties)&&void 0!==n?n:{};return Object.entries(c).reduce((function(e,t,n){var r=Object(l.a)(t,2),c=r[0],i=r[1],u=B(a,c);return i.allOf?i.allOf.reduce((function(e,t){return o(e,u,c,t,n)}),e):i.oneOf?(console.warn("property.oneOf detected! We haven't implemented that yet!"),i.oneOf.reduce((function(e,t){return o(e,u,c,t,n)}),e)):o(e,u,c,i,n)}),{})},U=function(e){var t,n,a;return null===(t=null===e||void 0===e?void 0:e.requestBody)||void 0===t||null===(n=t.content)||void 0===n||null===(a=n["application/json"])||void 0===a?void 0:a.schema};function I(){var e=Object(u.a)(["\n  position: absolute;\n  right: 10px;\n  top: 10px;\n"]);return I=function(){return e},e}function J(){var e=Object(u.a)(["  \n  margin: 20px 20px;\n"]);return J=function(){return e},e}var N=function(){var e=Object(d.a)(p.a.mark((function e(t){var n,a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new Headers).set("accept","application/json"),e.next=4,fetch(t,{headers:n});case 4:return a=e.sent,e.next=7,a.json();case 7:return r=e.sent,e.abrupt("return",O.a.dereference(r));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=b.default.div(J()),q=Object(b.default)(j.Spinner)(I()),z=E(["https://acc.api.top.amsterdam.nl/api/v1/schema/","https://zaken-api.vng.cloud/api/v1/schema/openapi.json","https://documenten-api.vng.cloud/api/v1/schema/openapi.json","https://catalogi-api.vng.cloud/api/v1/schema/openapi.json","https://besluiten-api.vng.cloud/api/v1/schema/openapi.json","https://autorisaties-api.vng.cloud/api/v1/schema/openapi.json"]);var H=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(void 0),u=Object(l.a)(c,2),s=u[0],p=u[1],d=Object(a.useState)(void 0),b=Object(l.a)(d,2),h=b[0],O=b[1],g=Object(a.useState)(void 0),y=Object(l.a)(g,2),S=y[0],w=y[1],k=Object(a.useState)(1),F=Object(l.a)(k,2),P=F[0],B=F[1];Object(a.useEffect)((function(){s?(o(!0),N(s).then((function(e){w(e),o(!1)}))):w(null)}),[s,w]);var T,I=S?(T=S,Object.entries(T.paths).reduce((function(e,t){var n=Object(l.a)(t,2),a=n[0],r=n[1];if(r.patch){var o=U(r.patch);o&&(e["PATCH ".concat(a)]=o)}if(r.put){var c=U(r.put);c&&(e["PUT ".concat(a)]=c)}if(r.post){var i=U(r.post);i&&(e["POST ".concat(a)]=i)}return e}),{})):{},J=E(Object.keys(I)),H=I[h],M=x(H,{mobileS:A(1),laptop:A(P)});return r.a.createElement(j.ThemeProvider,null,n&&r.a.createElement(q,{size:20}),r.a.createElement(W,null,r.a.createElement(v.UnboundSelectField,{label:"API",options:z,withEmptyOption:!0,onChange:function(e){p(e.target.value),O(void 0),w(void 0),B(1)}})),S&&r.a.createElement(r.a.Fragment,null,r.a.createElement(W,null,r.a.createElement(v.UnboundSelectField,{label:"Schema",options:J,withEmptyOption:!0,onChange:function(e){return O(e.target.value)}})),r.a.createElement(W,null,r.a.createElement(v.UnboundSelectField,{label:"Number of columns",hint:"Breakpoint is hardcoded on 'laptop' in this demo. But you can set them as you like.",options:E(["1","2","3","4","5","6","7","8","9","10"]),onChange:function(e){return B(parseInt(e.target.value))}}))),h&&r.a.createElement(f.Form,{mutators:Object(i.a)({},m.a),onSubmit:function(e){return console.log(e)},render:function(e){var t=e.values;return r.a.createElement("form",null,r.a.createElement(W,null,r.a.createElement(j.AccordionWrapper,null,r.a.createElement(j.Accordion,{title:"OpenAPI Schema"},r.a.createElement(j.Paragraph,null,"OpenAPI defines this requestBody."),r.a.createElement("pre",null,JSON.stringify(H,null,2))),r.a.createElement(j.Accordion,{title:"Form Schema"},r.a.createElement(j.Paragraph,null,"This autogenerated form-schema should be imported in your project."),r.a.createElement("pre",null,JSON.stringify(M,null,2))),r.a.createElement(j.Accordion,{title:"Scaffolded form"},r.a.createElement(v.Scaffold,{fields:M,columns:{laptop:C(P,!1)}})),r.a.createElement(j.Accordion,{title:"Form values"},r.a.createElement("pre",null,JSON.stringify(t,null,2))))))}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[258,1,2]]]);
//# sourceMappingURL=main.894817a3.chunk.js.map